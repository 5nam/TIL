## 내가 스코프를 공부하게 된 계기
맛집지도 클론 코딩에서 직접 카카오맵 API 연동을 해보면서 하면서 오류가 생겼다.
~~~
Uncaught TypeError: Cannot read properties of undefined (reading 'title')
~~~
그래서 검색을 해보다가, 다른 언어와는 달리 자바스크립트는 블록단위로 지역 변수를 지정하지 않는다는 것을 알게 되었는데,
결론적으로는 for 문 내부의 'var i' 가 문제가 되었던 것이었고 'let i' 로 바꾸니 실행이 되었다.
근데 궁금증이 생겼다. positions(title, address, img, link) 를 가지고 있는 객체의 인덱스로 쓰이는 'var i' 와
'title' 이 무슨 연관이 있기에 이런 오류가 났을까?
일단은 스코프에 대해서 알아야 한다는 생각에, 마침 가지고 있던 '모던 자바스크립트 Deep Dive' 책으로 스코프를 공부하고자 했다.

## 스코프란?
* 스코프(scope) : 유효범위.
* 자바스크립트의 스코프는 다른 언어의 스코프와 구별되는 특징이 있음으로 주의가 필요.
* var, let, const 모두 스코프가 다르게 동작
* 모든 식별자(변수 이름, 함수 이름, 클래스 이름 등)는 자신이 선언된 위치가 다른 코드가 식별자 자신을 참조할 수 있는 유효 범위가 결정되는데, 이를 스코프라고 한다.
* 스코프는 식별자가 유효한 범위를 의미한다.
* 아래와 같은 코드를 가정해보자.
~~~
var x = 'global';
function foo() {
  var x = 'local';
  console.log(x); // 1
 }
 foo();
 
 console.log(x); // 2
~~~
* 위와 같이 같은 식별자로서 x 가 '위치'가 다르게 선언되었다. 그리고 다른 위치에서 'x'가 참조되었다.
* 이때 자바스크립트 엔진(이하 JS 엔진)은 이름이 같은 두 개의 변수 중 어떤 변수를 참조해야 할 것인지 결정하는데, 이를 식별자 결정이라 한다.
* JS엔진은 스코프를 통해 어떤 변수를 참조할지 결정하고, 따라서 스코프는 '식별자를 검색할 때 사용하는 규칙'이라고도 한다.
  * 여기서 JS 엔진은 코드 실행 시에 '코드의 문맥'을 고려한다. 코드가 어디서 실행되는지, 주변에 어떤 코드가 있는지에 따라 판단한다.
* 'global' 변수, 즉 가장 바깥 영역에 선언된 x 변수는 어디서든 참조 가능하다. 하지만, 'local' 변수, 함수 내부에서 선언된 x 변수는 함수 내부에서만 참조 가능하다.
  * 이때 두 개의 x 변수는 식별자 이름이 동일하지만 자신이 유효한 범위, 즉 스코프가 다른 '별개의 변수'다.
  * 그래서 같은 이름을 갖는 변수들이 충돌 없이 프로그램 전체에서 같이 사용할 수 있는 것이다.
* 식별자는 '식별할 수 있는 고유한 이름'이기 때문에 '유일'해야 한다.
  * 따라서 식별자인 변수 이름은 중복될 수 없다. 즉, 하나의 값은 유일한 식별자에 연결되어야 한다.
* 스코프는 폴더(디렉터리)와 같고, 식별자는 '파일 이름' 과 같다.
  * 서로 각기 다른 폴더에는 같은 파일 이름으로 저장할 수 있듯이 말이다.
  * 즉, 스코프는 네임스페이스이다.

출처 : 이웅모, 모던 자바스크립트 Deep Dive, (위키북스), p.189-p.192
