## 렉시컬 스코프
~~~
var x = 1;

function foo() {
  var x = 10;
  bar();
}

function bar() {
  console.log(x);
}

foo() // 1
bar() // 2
~~~

* 위 예제의 실행 결과는 bar 함수의 상위 스코프가 무엇인지에 따라 결정된다.
  * 두 가지 패턴 예측 가능
    1. **함수를 어디서 호출했는지**에 따라 함수의 상위 스코프르 결정한다.
      * bar 함수의 상위 스코프 = foo 함수의 지역 스코프와 전역 스코프
    2. **함수를 어디서 정의했는지**에 따라 함수의 상위 스코프를 결정한다.
      * bar 함수의 상위 스코프 = 전역 스코프

* 첫 번째 방식을 **동적 스코프**라고 한다.
  * 함수를 정의하는 시점에는 함수가 어디서 호출될지 알 수 없다.
  * 따라서 함수가 호출되는 시점에 동적으로 상위 스코프를 결정한다.
* 두 번째 방식을 **레시컬 스코프(or 정적 스코프)**라 한다.
  * 동적 스코프 방식처럼 상위 스코프가 동적으로 변하지 않는다.
  * 함수 정의가 평가되는 시점에 상위 스코프가 정적으로 결정된다.
* ! JS 를 비롯한 대부분의 프로그래밍 언어는 렉시컬 스코프를 따른다. !

* JS 는 렉시컬 스코프를 따르므로 함수를 어디서 호출했는지가 아니라 ***함수를 어디서 정의했는지에 따라 상위 스코프를 결정***한다.
  * 함수의 상위 스코프는 언제나 자신이 정의된 스코프다.

* 이처럼 함수의 상위 스코프는 함수 정의가 실행될 때 정적으로 결정된다.
  * 함수 정의(함수 선언문 또는 함수 표현식)가 실행되어 생성된 함수 객체는 이렇게 결정된 상위 스코프를 기억한다.
  * 함수 호출 시마다 함수의 상위 스코프를 참조할 필요가 있기 때문이다.


출처 : 이웅모, 모던 자바스크립트 Deep Dive, (위키북스), p.198-p.199
